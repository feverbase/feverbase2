<!DOCTYPE HTML>
<html>

<head>
  {% include "partials/head.html" %}

  <title>Feverbase</title>

  <!-- Custom CSS -->
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='volunteer.css') }}">

  <!-- Custom JS -->
  <script src="{{ url_for('static', filename='volunteer.js') }}"></script>
</head>

<body>
  <header>
    <nav>
      <a href="/about">About</a>
      <a href="/">Search</a>
      <button type="button" class="textbn" onclick="toggleFeedback()">Give Feedback</button>
    </nav>

    <h1 id="logo"><a href="/">feverbase</a></h1>
    <span id="blurb">Volunteer for eligible trials.</span>
  </header>

  <form action="/volunteer" method="post">
    <label>Name</label>
    <div class="inputs">
      <input name="first_name" type="text" placeholder="First" value="{{ inputs.first_name if inputs and 'first_name' in inputs else '' }}">
      <input name="last_name" type="text" placeholder="Last" value="{{ inputs.last_name if inputs and 'last_name' in inputs else '' }}">
    </div>

    <label for="email">Email</label>
    <input name="email" type="text" value="{{ inputs.email if inputs and 'email' in inputs else '' }}">

    <p>Symptoms</p>

    {% for symptom in symptoms %}
      <label class="check"><input type="checkbox" name="symptoms[]" value="{{ symptom }}" {{ 'checked' if inputs.symptoms and symptom in inputs.symptoms else '' }}> <span>{{ symptom }}</span></label>
    {% endfor %}

    {% if inputs.others and inputs.others|length %}

      {% for other_val in inputs.others %}
        <label class="check other">
          <input type="checkbox" name="others_selected[]" value="{{ loop.index - 1 }}" {{ 'checked' if inputs.others_selected and (loop.index - 1)|string in inputs.others_selected else '' }}>
          <span>Other:</span>
          <input name="others[]" type="text" value="{{ other_val }}">
        </label>
      {% endfor %}

    {% else %}

    <label class="check other">
      <input type="checkbox" name="others_selected[]" value="0">
      <span>Other:</span>
      <input name="others[]" type="text" value="{{ inputs.others[0] if inputs and 'others' in inputs and inputs.others|length > 0 else '' }}">
    </label>

    {% endif %}

    <input type="submit" value="Submit">
  </form>

  {% include "partials/end_body.html" %}
</body>

</html>